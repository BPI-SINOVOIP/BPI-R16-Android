MCE_CLIENT_ID=$1
MCE_SERVER_INSTANCE_ID=$2
MCE_MESSAGE_HANDLE=$3
MCE_STATUS_SET=$4

if [ -z "$MCE_CLIENT_ID" ]
then
   MCE_ERROR=1
fi

if [ -z "$MCE_SERVER_INSTANCE_ID" ]
then
   MCE_ERROR=1
fi

if [ -z "$MCE_MESSAGE_HANDLE" ]
then
   MCE_ERROR=1
fi

if [ -z "$MCE_STATUS_SET" ]
then
   MCE_ERROR=1
fi


if [ "$MCE_ERROR" ]
then
   echo "usage: mce-setmessagedeleted <CLIENT_ID> <SERVER_INSTANCE_ID> <MESSAGE_HANDLE> <STATUS_SET>"
   echo "
    Where CLIENT_ID is a unique identifier for the client
    Where SERVER_INSTANCE_ID is the MSE server instance
    Where MESSAGE_HANDLE is the handle to the messge
    Where STATUS_SET IS
        0: false: message is not deleted
        1: true:  message is deleted
"
   exit 1
fi

MCE_ACTION="SET_MESSAGE_DELETED_STATUS --es CLIENT_ID $MCE_CLIENT_ID --es SERVER_INSTANCE_ID $MCE_SERVER_INSTANCE_ID --es MESSAGE_HANDLE $MCE_MESSAGE_HANDLE --es STATUS_SET $MCE_STATUS_SET"

source include.sh